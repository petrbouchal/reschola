---
title: "Making charts"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{charts}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

NB: This vignette temporarily serves to test and fine-tune the `theme_schola()` theme and to showcase typography.

This is a bit hacky so ignore font sizes and resolution, which can be handled better in normal Word or HTML output outside of package documentation.

When judging fonts, I would put quite a lot of emphasis on how they display figures, in particular whether the numerals have fixed width by default, meaning they align well: 99 is the same width as 11.

- Roboto Condensed, IBM Plex Sans, Titillium Sans and Econ Sans all do.
- Roboto Condensed is nice in that it has a normal-width sibling, Roboto, which also has fixed-width figures. It is good to have the normal and condensed fonts when needed, e.g. the condensed works well for crowded axes or longer titles.
- Arial Narrow is fine - you can then use Arial in you word output or generic sans in web output and they would be visually consistent with the charts. But it is not open license so we cannot include it in the package; anyone using the package would have to make sure they have it on their computer.
- Open Sans, which your website uses, is fine and has good figures, but seems a bit too wide for charts.

(If we are producing PNG figures, we don't need to worry about which fonts the user of the report has installed on their computer).


## The Schola ggplot2 theme

First, let's see the default plot, no theme


```r
p <- ggplot(mpg) +
 geom_bar(aes(y = class)) +
 labs(title = "Lots of cars", subtitle = "Count of numbers")
p
```

<img src="charts-no-theme-1.png" title="plot of chunk no-theme" alt="plot of chunk no-theme" width="504" />

using `theme_schola()` defaults


```r
p +
 theme_schola("x")
```

<img src="charts-schola-default-1.png" title="plot of chunk schola-default" alt="plot of chunk schola-default" width="504" />


in combination with `flush_axis`, and using the Titillium Web font:


```r
p +
 theme_schola("x", family = "Titillium Web") +
 scale_x_continuous(expand = flush_axis)
```

<img src="charts-titillium-flush-1.png" title="plot of chunk titillium-flush" alt="plot of chunk titillium-flush" width="504" />


Scatterplot, using yet another font


```r
ggplot(mpg) +
 geom_point(aes(cty, hwy)) +
 theme_schola("scatter", family = "IBM Plex Sans") +
 labs(title = "Lots of cars", subtitle = "Point by point")
```

<img src="charts-scatter-plexsans-1.png" title="plot of chunk scatter-plexsans" alt="plot of chunk scatter-plexsans" width="504" />

Smaller text, flush plot alignment


```r
ggplot(mpg) +
 geom_point(aes(cty, hwy), alpha = .2) +
 theme_schola("scatter", base_size = 9, side_margin = 0, family = "IBM Plex Sans") +
 labs(title = "Lots of cars", subtitle = "Point by point")
```

<img src="charts-scatter-plexsans-smaller-1.png" title="plot of chunk scatter-plexsans-smaller" alt="plot of chunk scatter-plexsans-smaller" width="504" />

### Override defaults changed inside `theme_schola()`


```r
ggplot(mpg) +
 geom_point(aes(cty, hwy), alpha = .2) +
 theme_schola("scatter", base_size = 12, side_margin = 0, family = "Roboto Condensed") +
 labs(title = "Lots of cars", subtitle = "Point by point") +
 theme(panel.background = element_rect(fill = "lightpink"))
```

<img src="charts-scatter-defaultschanged-1.png" title="plot of chunk scatter-defaultschanged" alt="plot of chunk scatter-defaultschanged" width="504" />

### Small mutliples

Smaller text, using Arial Narrow


```r
p +
 theme_schola("x", multiplot = T, family = "Arial Narrow") +
 scale_x_continuous(expand = flush_axis) +
 facet_wrap(~ manufacturer, nrow = 2)
```

<img src="charts-arial-narrow-1.png" title="plot of chunk arial-narrow" alt="plot of chunk arial-narrow" width="504" />

Same without aesthetic adjustment for `facet_wrap()` and different font


```r
p +
 theme_schola("x", multiplot = F, family = "Public Sans") +
 scale_x_continuous(expand = flush_axis) +
 facet_wrap(~ manufacturer, nrow = 2)
```

<img src="charts-publicans-nomultiplot-1.png" title="plot of chunk publicans-nomultiplot" alt="plot of chunk publicans-nomultiplot" width="504" />

Small mutliples scatter and make it look like The Economist


```r
ggplot(mpg) +
 geom_point(aes(cty, hwy), alpha = .2) +
 theme_schola("scatter", multiplot = T, family = hrbrthemes::font_es,
              title_family = hrbrthemes::font_es_bold) +
 labs(title = "Lots of cars", subtitle = "Point by point") +
 facet_wrap(~ class, nrow = 2)
```

<img src="charts-economist-1.png" title="plot of chunk economist" alt="plot of chunk economist" width="504" />


Small mutliples grid, using another font setup


```r
p +
 theme_schola("x", multiplot = T, family = "IBM Plex Sans Light",
              title_family = "IBM Plex Sans Bold") +
 scale_x_continuous(expand = flush_axis) +
 facet_grid(cyl ~ drv)
```

<img src="charts-plexmix-1.png" title="plot of chunk plexmix" alt="plot of chunk plexmix" width="504" />

Small mutliples scatter grid, using mix of Roboto fonts


```r
ggplot(mpg) +
 geom_point(aes(cty, hwy), alpha = .2) +
 theme_schola("scatter", multiplot = T, family = "Roboto Condensed",
              title_family = "Roboto") +
 labs(title = "Lots of cars", subtitle = "Point by point") +
 facet_grid(cyl ~ class)
```

<img src="charts-robotomix-1.png" title="plot of chunk robotomix" alt="plot of chunk robotomix" width="504" />

Same but without multiplot parameter



```r
ggplot(mpg) +
 geom_point(aes(cty, hwy), alpha = .2) +
 theme_schola("scatter", multiplot = F) +
 labs(title = "Lots of cars", subtitle = "Point by point") +
 facet_grid(cyl ~ class)
```

<img src="charts-nomultiplot-1.png" title="plot of chunk nomultiplot" alt="plot of chunk nomultiplot" width="504" />

